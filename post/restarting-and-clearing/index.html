<!DOCTYPE html>
<html
  class=""
  lang="en-us"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="keywords" content="">


<meta property="og:type" content="article" />
<meta property="og:description" content="" />
<meta property="og:title" content="Restarting and Clearing" />
<meta property="og:site_name" content="The data salaryman" />
<meta property="og:image" content="/images/restart-og-thumbnail.png" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="/post/restarting-and-clearing/" />
<meta property="og:locale" content="en-us" />
<meta property="article:published_time" content="2018-04-24
" /> <meta property="article:modified_time" content="2018-04-24
" />




<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@livingwithdata" />
<meta name="twitter:creator" content="@livingwithdata" />
<meta
  name="twitter:title"
  content="Restarting and Clearing | The data salaryman"
/>
<meta
  name="twitter:description"
  content="Introduction I’m trying so hard to get people on the bandwagon of clearing and restarting their R sessions frequently. If there’s anything you can do to ensure the integrity of your code, it’s restarting the R session, clearing your console screen, and re-running your code.
This practice ensures that you always start from a clean slate when you run your analysis. If you start your analysis with objects in your workspace and your code relies on that workspace, chances are that your analysis will fail to deliver, or you get unexpected (often wrong) results from the code you just run.|"
/>
<meta name="twitter:image:src" content="" />
<meta name="twitter:domain" content="/post/restarting-and-clearing/" />



    <title>Restarting and Clearing</title>
    <link rel="canonical" href="/post/restarting-and-clearing/" />


    <link
  rel="stylesheet"
  href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css"
/>

<link rel="stylesheet" href="/css/style.css" />

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/github-gist.css"
/>

<script src="//yihui.name/js/math-code.js"></script>
<script async 
src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-MML-AM_CHTML.js"
></script>



    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>
<body
  lang="en-us"
  class="sans-serif w-90 w-80-m w-60-ns center mv2 mv5-ns"
  itemscope
  itemtype="http://schema.org/Article"
>
  
  <span class="b">/ </span>
  <a href="/" class="b bb bw1 pb1 no-underline black">The data salaryman</a>
  <span class="b"> / </span>
  <a href="/post" class="b bb bw1 pb1 no-underline black">blog</a>

  <section id="main" class="mt5">
    <h1 itemprop="name" id="title">Restarting and Clearing</h1>
    <span class="f6 gray">April 24, 2018</span>

      <article itemprop="articleBody" id="content" class="w-90 lh-copy">
        


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>I’m trying so hard to get people on the bandwagon of clearing and restarting their R sessions frequently. If there’s anything you can do to ensure the integrity of your code, it’s restarting the R session, clearing your console screen, and re-running your code.</p>
<p>This practice ensures that you always start from a clean slate when you run your analysis. If you start your analysis with objects in your workspace and your code relies on that workspace, chances are that your analysis will fail to deliver, or you get unexpected (often wrong) results from the code you just run.</p>
</div>
<div id="restarting" class="section level2">
<h2>Restarting</h2>
<p>Restarting begins your R session as if nothing ever happened and deletes all the objects you have in your workspace. Basically, you start with a clean slate.</p>
<p>If you’re on Rstudio you can use the <code>.rs.restartR()</code> command in the console or use the following Keyboard shortcuts depending on your OS:</p>
<p><code>Ctrl+Shift+F10</code> for Windows and Linux<br />
<code>Command+Shift+F10</code> for MacOS</p>
<div id="why-this-is-important" class="section level4">
<h4>Why this is important</h4>
<p>R stores all your created R objects (often functions, variables and data) in a workspace environment in your current R session. And chances are, you won’t be in your R session if you won’t be using and transforming these objects.</p>
<p>What’s important is that these objects do not stand alone. Otherwise, it becomes difficult to recreate them and modify them. And for other people who want to check your analysis, it won’t be clear how your objects are created if they only exist in the R workspace.</p>
<p>To solve these problems, These objects have to have their origin in <em>code</em>. You have to be able to trace every object you create to a script or R markdown file somewhere in your project.</p>
<p>To ensure that your code does what it does, it helps that your console always starts on a clean slate. Doing this ensures two things:<br />
1. It makes sure that your R console only relies on the objects generated or called by your script.<br />
2. It will force you to code all the R objects you will be needing and not solely depend on the workspace.</p>
<p><strong>Restart your console and restart it often.</strong></p>
</div>
<div id="an-example" class="section level4">
<h4>An Example</h4>
<p>Let’s say David wants to make a new analysis on his dataset, <code>df</code>. He wants to do it on a new R script.</p>
<p>Thinking that his data is already on his workspace, he decides to only code the analysis and not write the code generating the dataset he wants to work with. As you will expect, he does not restart his console.</p>
<p>This is what his analysis looks like:</p>
<pre class="r"><code># My regression
rel_lm &lt;- lm(y ~ x, data = df)</code></pre>
<p>David has created a new object called <code>rel_lm</code> which is a linear model of his dataset <code>df</code>. He uses <code>summary</code> to check the significance of variable x on his model.</p>
<pre class="r"><code>summary(rel_lm)</code></pre>
<pre><code>## 
## Call:
## lm(formula = y ~ x, data = df)
## 
## Residuals:
##     1     2     3     4     5 
##  0.50 -0.56 -0.12 -0.08  0.26 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   3.6200     0.2085   17.36 0.000416 ***
## x             2.0600     0.1474   13.97 0.000794 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.4662 on 3 degrees of freedom
## Multiple R-squared:  0.9849, Adjusted R-squared:  0.9798 
## F-statistic: 195.3 on 1 and 3 DF,  p-value: 0.0007936</code></pre>
<p>Luckily for David, his regression shows promising results.</p>
<p>He then decides to share his results with a colleague, Jonathan. Jonathan does not believe in the results so he asks for a copy of the code that David made.</p>
<p>But what happens when Jonathan runs the code? Remember, he does not have the workspace that David has. And because David did not restart his console, he did not see that his analysis depended on the R object <code>df</code>.</p>
<p>Here’s what it looks like when Jonathan ran the same code.</p>
<pre class="r"><code># My regression
rel_lm &lt;- lm(y ~ x, data = df)</code></pre>
<pre><code>## Error in as.data.frame.default(data, optional = TRUE): cannot coerce class &#39;&quot;function&quot;&#39; to a data.frame</code></pre>
<p>The analysis returns an error. Because the object <code>df</code> is not on Jonathan’s workspace, he cannot run the regression needed to see the results.</p>
</div>
</div>
<div id="clearing" class="section level2">
<h2>Clearing</h2>
<p>Clearing your console keeps the distractions away. Basically you start with a clear screen, but you do not delete your environment objects.</p>
<p>You don’t want to look at the console and think you still have objects that you can use. Clear your screen to clear away all that clutter.</p>
<p>You can type the command <code>cat(&quot;\014&quot;)</code> on the console or you can use <code>Ctrl+L</code>. This works for all operating systems.</p>
<div id="why-this-is-important-1" class="section level4">
<h4>Why this is important</h4>
<p>I wish R started the console without any text and just the cursor. The text in the console for a frequent R user is incredibly distracting. It would be better to clear it out.</p>
<p>Here’s how the screen looks like.</p>
<p><img src="/post/restart_and_clear_files/console.PNG" /></p>
<p>And here’s how the screen looks like when it’s cleared:</p>
<p><img src="/post/restart_and_clear_files/console2.PNG" /></p>
<p>Doesn’t this look better?</p>
</div>
</div>

      </article>

      
      <span class="f6 gray mv3" title="Lastmod: April 24, 2018. Published at: 2018-04-24.">
        
      </span>

      

  </section>

  <footer>
    <div>
      <p class="f6 gray mt6 lh-copy">
        © 2019 Jose Francisco G. Endrinal
      </p>
    </div>
  </footer>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js"></script>

<script>
  hljs.initHighlightingOnLoad();
</script>

<script src="//yihui.name/js/math-code.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


  </body>
</html>
